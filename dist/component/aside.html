<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>mobile触摸页面</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<style>
			
			p {
				line-height: 28px;
				font-size: 16px;
				padding: 5px ;
				background: #fafafa;
				margin-bottom: 5px;
				border-radius: 5px;
				
			}
			
		</style>

		<link rel="stylesheet" type="text/css" href="../css/mobile.css" />

	</head>

	<body>


		<!--header-->
		<header class="mobile-head">
			<h2 class="mobile-head-ttl">aside侧边菜单</h2>
		</header>

		<!--content-->
		<section class="mobile-content " >

			<div class="mobile-aside  clearfix">
				
				<!--侧边菜单-->
				<aside class="mobile-aside-menu width-2">
					<div class="mobile-scroll-topbottom" data-scroll-top>
						<ul class="mobile-scroll-content">
							<li class="mobile-aside-ttl active" data-target="#page1">
								第1屏
							</li>
							<li class="mobile-aside-ttl" data-target="#page2">
								第2屏
							</li>
							<li  class="mobile-aside-ttl"  data-target="#page3">
								第3屏
							</li>
							<li  class="mobile-aside-ttl"  data-target="#page4">
								第4屏
							</li>
							<li  class="mobile-aside-ttl"  data-target="#page5">
								第5屏
							</li>
							
						</ul>
					</div>
				</aside>
				
				<!--菜单内容-->
				<div class="mobile-aside-content  width-8">
					<div id="page1" class="mobile-aside-item  active mobile-scroll-topbottom" data-scroll-bar data-scroll-bottom>
						<div class="mobile-scroll-content">

							<p>第1屏</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>1习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
						
						</div>
					</div>

					<div id="page2" class=" mobile-aside-item  mobile-scroll-topbottom" data-scroll-bar data-scroll-bottom>
						<div class="mobile-scroll-content">
							<p>第2屏</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>2习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							
						</div>

					</div>

					<div id="page3" class="mobile-aside-item  mobile-scroll-topbottom" data-scroll-bar data-scroll-bottom>
						<div class="mobile-scroll-content">
							<p>第3屏</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>3习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>

							
						</div>
					</div>

					<div id="page4" class="mobile-aside-item  mobile-scroll-topbottom" data-scroll-bar data-scroll-bottom>
						<div class="mobile-scroll-content">
							<p>第4屏</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>4习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>

							
						</div>
					</div>
					
					<div id="page5" class="mobile-aside-item  mobile-scroll-topbottom" data-scroll-bar data-scroll-bottom>
						<div class="mobile-scroll-content">
							<p>第5屏</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>
							<p>5习近平等党和国家领导人出席全国政协十三届一次会议闭幕会</p>

							
						</div>
					</div>

					
				</div>
			
			</div>
			
		</section>

		<!--footer-->
		<footer class="mobile-footer">
			<h2>页脚</h2>
		</footer>
		<script type="text/html" id="must">
			{{#must}}
			
				<p>{{content}}</p>
		
			{{/must}}
		</script>

		<script src="../js/mobile.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/mustache.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			// 拉到底部 加载数据
			var firstbottom = true;
			//var bottomcontent = m(".mobile-scroll-content");
			m(".mobile-aside-item.mobile-scroll-topbottom").on("scrollbottom", function(event) {
				var bottomcontent =m(event.detail.el);
				//	console.log(event.detail);
				if(firstbottom) {
					firstbottom = false;
					bottomcontent.find(".loading").remove();
					var loading = document.createElement("div");
					loading.innerHTML = "正在加载中...";
					loading.classList.add("loading");
					bottomcontent.append(loading);
					
					setTimeout(function() {

						m.get("../json/tab.json", function(data) {
							data=data.map(function(item){return {content:"====="+bottomcontent.parent().attr("id")+"====="+item.content};});
							
							var html = Mustache.to_html($("#must").html(), {
								must:data 
							});
							bottomcontent.find(".loading").remove();
							bottomcontent.append(html);
							firstbottom = true;
							event.detail.barFun(); // 重设滚动条

						}, function() {
							firstbottom = true;
							loading.innerHTML = "数据加载失败...";
						});
					}, 500);
				}

			});

			
		</script>

	</body>

</html>